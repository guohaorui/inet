[General]
network = EthernetFilteringExample

*.numSources = 3
*.sources[*].packetLength = 1000B
*.sources[0].productionInterval = exponential(2ms)
*.sources[1].productionInterval = exponential(1ms)
*.sources[2].productionInterval = exponential(0.5ms)

*.identifier.streamMappings = [{packet: "sources[0]*", stream: "s0"},
                               {packet: "sources[1]*", stream: "s1"},
                               {packet: "sources[2]*", stream: "s2"}]

*.filter.numStreams = 3
*.filter.classifier.streamsToGateIndices = "s0 0 s1 1 s2 2"
*.filter.filter[*].maxDatarate = 8Mbps

[Config SlidingWindowRateMeter]

*.filter.meter[*].typename = "SlidingWindowRateMeter"
*.filter.meter[*].timeWindow = 100ms
*.filter.filter[*].typename = "StatisticalRateLimiter"
*.filter.filter[*].maxDatarate = 8Mbps

[Config TokenBucketMeter1]

*.filter.meter[*].typename = "MultiTokenBucketMeter"
*.filter.meter[*].buckets = [{tokenProductionRate: 8E+6, label: "green"}]
*.filter.filter[*].typename = "LabelFilter"
*.filter.filter[*].includeLabels = ["green"]

[Config TokenBucketMeter2]

*.filter.meter[*].typename = "MultiTokenBucketMeter"
*.filter.meter[*].buckets = [{tokenProductionRate: 8E+6, label: "green"}, {tokenProductionRate: 2E+6, label: "yellow"}]
*.filter.filter[*].typename = "LabelFilter"
*.filter.filter[*].includeLabels = ["green", "yellow"]

[Config TokenBucketClassifier1]

[Config TokenBucketClassifier2]

